<!DOCTYPE html>
<html>
<head>
  <title>THIS OR THAT?</title>
  <style>
  	body {
  		font-family: "Lato";
  		font-size: 14pt;
  	}

  	h1 {
  		font-family: "Montserrat";
  		font-size: 36pt;
  		text-transform: uppercase;
  	}

    .container {
      width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

  	#left {
  		float: left;
  		text-align: right;

  	}

  	#right {
  		float: right;
  		text-align: left;
  	}

  </style>
  <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Lato:300" rel="stylesheet" type="text/css">
</head>
<body>
    <div style="width: 100%; text-align: center;">
    	<h1>Evolution Chamber</h1>
        <div class="container">
          <div id = "left">
              {{ left }}
          </div>
          <div id = "right">
              {{ right }}
          </div>
        </div>
    </div>
    <div style="clear:both;"></div>
    <p style="text-transform: italic; text-align: center; font-size: 12pt;">Use your left and right arrow keys to select the HackMIT logo you like best!</p>
    <p style="text-align: center;"><b>Generation:</b> {{ generation }} <br> - <br> <b>Progress:</b> {{ progress }} %</p>
    <script>
    var LEFT = 37;
    var RIGHT = 39;
    function post(loser, winner) {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open("POST", "/", true);
        xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState === XMLHttpRequest.DONE) {
                window.location = '/';
            }
        };
        xmlhttp.send('generation={{ generation }}&loser=' + loser + '&winner=' + winner);
    }
    document.onkeydown = function(e) {
        e = e || window.event;
        var charCode = (typeof e.which == "number") ? e.which : e.keyCode;
        if (charCode === LEFT) {
            post('{{ right_id }}', '{{ left_id }}');
        } else if (charCode === RIGHT) {
            post('{{ left_id }}', '{{ right_id }}');
        }
    };
    </script>
</body>
</html>
